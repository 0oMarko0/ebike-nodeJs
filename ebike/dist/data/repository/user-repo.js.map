{"version":3,"file":"user-repo.js","sourceRoot":"","sources":["../../../src/data/repository/user-repo.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,kDAA0B;AAC1B,+EAAmD;AAEnD,MAAqB,QAAS,SAAQ,cAAI;IACtC;QACI,KAAK,CAAC,yBAAW,CAAC,IAAI,CAAC,CAAC;IAC5B,CAAC;IAEK,UAAU,CAAC,KAAa;;YAC1B,MAAM,KAAK,GAAG;gBACV,KAAK;aACR,CAAC;YAEF,MAAM,SAAS,GAAG;gBACd,EAAE,MAAM,EAAE,KAAK,EAAE;gBACjB,EAAE,QAAQ,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,EAAE;aACvF,CAAC;YAEF,OAAO,IAAI,CAAC,aAAa,EAAE;iBACtB,SAAS,CAAC,SAAS,CAAC;iBACpB,IAAI,EAAE,CAAC;QAChB,CAAC;KAAA;CACJ;AAnBD,2BAmBC","sourcesContent":["import Repo from \"./repo\";\nimport collections from \"../utils/mongoCollection\";\n\nexport default class UserRepo extends Repo {\n    constructor() {\n        super(collections.user);\n    }\n\n    async getByEmail(email: string) {\n        const query = {\n            email,\n        };\n\n        const aggregate = [\n            { $match: query },\n            { $project: { _id: 0, id: \"$_id\", email: 1, isActive: 1, isAdmin: 1, password: 1 } },\n        ];\n\n        return this.getCollection()\n            .aggregate(aggregate)\n            .next();\n    }\n}\n"]}