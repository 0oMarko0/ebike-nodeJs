{"version":3,"file":"restaurant-seed.js","sourceRoot":"","sources":["../../../src/data/seed/restaurant-seed.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,gEAAwC;AACxC,0DAAkC;AAGlC,MAAqB,cAAe,SAAQ,kBAAQ;IAEhD,YAAY,cAA8B;QACtC,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;IACzC,CAAC;IAEK,KAAK;;YACP,MAAM,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,4BAA4B,CAAC,CAAC;YACpE,MAAM,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC;YACjC,IAAI;gBACA,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAO,GAAQ,EAAE,EAAE;oBAC9C,MAAM,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,YAAY,CAAC,CAAC,CAAC;gBACxE,CAAC,CAAA,CAAC,CAAC;aACN;YAAC,OAAO,CAAC,EAAE;gBACR,gBAAM,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;aAC3B;YACD,gBAAM,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC;QAC3C,CAAC;KAAA;IAEO,SAAS,CAAC,GAAQ,EAAE,IAAY;QACpC,OAAO;YACH,KAAK,EAAE,GAAG,CAAC,KAAK;YAChB,WAAW,EAAE,CAAC,GAAG,CAAC,QAAQ,EAAE,GAAG,CAAC,SAAS,CAAC;YAC1C,KAAK,EAAE,GAAG,CAAC,KAAK;YAChB,OAAO,EAAE,GAAG,CAAC,OAAO;YACpB,IAAI,EAAE,GAAG,CAAC,IAAI;YACd,OAAO,EAAE,GAAG,CAAC,OAAO,CAAC,IAAI;SAC5B,CAAC;IACN,CAAC;CACJ;AA9BD,iCA8BC","sourcesContent":["import logger from \"../../utils/logger\";\nimport ReadFile from \"./readFile\";\nimport RestaurantRepo from \"../repository/restaurant-repo\";\n\nexport default class RestaurantSeed extends ReadFile {\n    private restaurantRepo: RestaurantRepo;\n    constructor(restaurantRepo: RestaurantRepo) {\n        super();\n        this.restaurantRepo = restaurantRepo;\n    }\n\n    async start() {\n        const restaurants = this.readFromfile(\"sherbrooke_restaurant.json\");\n        await this.restaurantRepo.drop();\n        try {\n            Object.values(restaurants).map(async (row: any) => {\n                await this.restaurantRepo.create(this.translate(row, \"Sherbrooke\"));\n            });\n        } catch (e) {\n            logger.error(e.message);\n        }\n        logger.info(\"SEEDING restaurant DONE\");\n    }\n\n    private translate(row: any, city: string) {\n        return {\n            phone: row.phone,\n            coordinates: [row.latitude, row.longitude],\n            types: row.types,\n            placeId: row.placeID,\n            name: row.name,\n            address: row.address.full,\n        };\n    }\n}\n"]}